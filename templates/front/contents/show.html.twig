{% extends 'base.html.twig' %}

{% block title %}{{ content.title }}{% endblock %}

{% block body %}
    <div class="container-lite article">
        <header>
            <h1 class="title">{{ content.title }}</h1>
            <section class="flex gap-2 flex-wrap">
                {% for categorie in content.getCategories %}
                    {{ include('/components/category_label.html.twig', {value: categorie.label, active:false, variant: content.type|lower == "video" ? "blue" : content.type|lower == "podcast" ? "red" : content.type|lower == "article" ? "yellow" : null }) }}
                {% endfor %}
            </section>
            <tr>
                <th>CreatedAt</th>
                <td>{{ content.createdAt ? content.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>UpdatedAt</th>
                <td>{{ content.updatedAt ? content.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
        </header>
        <section>
            {% if content.type == 'Article' %}
                <figure>
                    <img src="{{ asset(content.prewiewImg) }}" alt="prewiewImg" width="100" height="100">
                </figure>
            {% else %}
                {{ content.src|striptags('<iframe>')|raw  }}
            {% endif %}
        </section>
        <p>{{ content.description }}</p>
        <article>{{ content.content }}</article>

    </div>

    <a href="{{ path('front_contents_index') }}">back to list</a>

    <a href="{{ path('back_contents_edit', {'slug': content.slug}) }}">edit</a>

    {{ include('back/contents/_delete_form.html.twig') }}
{% endblock %}
